!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.nodes={},t.forEach(function(e,r){var o=e.id;t[r].value=Number.MAX_SAFE_INTEGER,t[r].checked=!1,n.nodes[o]=t[r]}),this.nodes.start.value=0;for(var r=function(){var e=n.getLowestValueNode();e.edges.filter(function(e){return!e.node.checked}).forEach(function(t){var n=t.node,r=t.weight,o=e.value+r;o<n.value&&(n.value=o)}),e.checked=!0};!this.allChecked();)r()}var t,n,o;return t=e,(n=[{key:"getPath",value:function(){var e=this,t=this.nodes.finish,n=["finish"];do{var r=t.edges.sort(function(t,n){return e.nodes[t.node.id].value-e.nodes[n.node.id].value})[0];n.push(r.node.id),t=this.nodes[r.node.id]}while("start"!=t.id);return n}},{key:"getValues",value:function(){return this.nodes}},{key:"allChecked",value:function(){return 0==Object.values(this.nodes).filter(function(e){return!e.checked}).length}},{key:"getLowestValueNode",value:function(){return Object.values(this.nodes).filter(function(e){return!e.checked}).sort(function(e,t){return e.value-t.value})[0]}}])&&r(t.prototype,n),o&&r(t,o),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.node=t,this.weight=n};t.default=r},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=Math.floor(Math.random()*e.width),this.y=Math.floor(Math.random()*e.height),this.dx=e.dx*(0==Math.round(Math.random())?-1:1),this.dy=e.dy*(0==Math.round(Math.random())?-1:1),this.dx*=1+.2*Math.random(),this.dx*=1+.2*Math.random(),this.id=t,this.edges=[],this.value=Number.MAX_SAFE_INTEGER,this.checked=!1}return i(e,null,[{key:"init",value:function(t,n,r,o){e.width=t,e.height=n,e.dx=r,e.dy=o}}]),i(e,[{key:"addEdge",value:function(e){this.edges.push(e)}},{key:"updatePosition",value:function(){this.x+=this.dx*e.width,this.y+=this.dy*e.height,(this.x>e.width||this.x<0)&&(this.dx=-this.dx),(this.y>e.height||this.y<0)&&(this.dy=-this.dy)}},{key:"distance",value:function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(Math.pow(t,2)+Math.pow(n,2))}},{key:"format",value:function(){var e=this,t={group:"nodes",data:{id:this.id,value:this.value},renderedPosition:{x:this.x,y:this.y}},n=this.edges.map(function(t){var n=t.node,r=t.weight;return{group:"edges",data:{source:e.id,target:n.id,weight:r,id:"".concat(e.id).concat(n.id)}}});return[t].concat(r(n))}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(2)),o=a(n(1)),i=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:75e-5,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:75e-5;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.width=t,this.height=n,this.dx=a*t,this.dy=s*n,r.default.init(t,n,a,s),this.NODE_COUNT=o,this.EDGE_COUNT=i,this.nodes=[],this.distanceThreshold=.2,this.id=0}var t,n,a;return t=e,(n=[{key:"updatePositions",value:function(){this.nodes.forEach(function(e){return e.updatePosition()}),this.generateEdges();var e=new i.default(this.nodes),t=e.getValues();return this.nodes.forEach(function(e){e.value=t[e.id].value}),e.getPath()}},{key:"generateTree",value:function(){this.generateNodes(),this.generateEdges()}},{key:"generateNodes",value:function(){for(var e=0;e<this.NODE_COUNT;e++){var t="node-".concat(e);0==e&&(t="start"),e==this.NODE_COUNT-1&&(t="finish");var n=new r.default(t);this.nodes.push(n)}}},{key:"generateEdges",value:function(){for(var e=this,t=0;t<this.nodes.length;t++)this.nodes[t].edges=[];for(var n=function(t){for(var n=e.nodes[t],r=[],i=0;i<e.nodes.length;i++)t!=i&&r.push({index:i,distance:n.distance(e.nodes[i])});r.sort(function(e,t){return e.distance-t.distance}).slice(0,e.EDGE_COUNT).forEach(function(t){var r=t.index,i=t.distance;n.addEdge(new o.default(e.nodes[r],Math.round(i))),e.nodes[r].addEdge(new o.default(n,Math.round(i)))})},r=0;r<this.nodes.length;r++)n(r)}},{key:"format",value:function(){return this.nodes.map(function(e){return e.format()}).reduce(function(e,t){return s(e).concat(s(t))},[])}}])&&u(t.prototype,n),a&&u(t,a),e}();t.default=c},function(e,t,n){"use strict";var r,o=(r=n(3))&&r.__esModule?r:{default:r};var i=15,a=5,s=new o.default(window.innerWidth,window.innerHeight,i,a);s.generateTree();var u=!1,c=cytoscape({container:document.getElementById("canvas"),style:cytoscape.stylesheet().selector("node").css({content:"data(id)"}).selector("edge").css({content:"data(weight)"}).selector("#start").css({"background-color":"#00C853"}).selector("#finish").css({"background-color":"#DD2C00"}),elements:s.format(),layout:{name:"preset"}});function d(){c.$("").remove();var e=s.updatePositions();c.add(s.format());for(var t=0;t<e.length-1;t++)c.$("#".concat(e[t]).concat(e[t+1])).select(),c.$("#".concat(e[t+1]).concat(e[t])).select(),c.$("#".concat(e[t+1])).select()}var l=setInterval(d,50);$("#interval").change(function(){$("#intervalSpan").text($(this).val()),clearInterval(l),l=setInterval(d,$(this).val())}),$("#nodeCount").change(function(){$("#nodeCountSpan").text($(this).val()),i=$(this).val(),(s=new o.default(window.innerWidth,window.innerHeight,i,a)).generateTree()}),$("#edgeCount").change(function(){$("#edgeCountSpan").text($(this).val()),a=$(this).val(),(s=new o.default(window.innerWidth,window.innerHeight,i,a)).generateTree()}),$("#pause").click(function(){(u=!u)?clearInterval(l):l=setInterval(d,$("#interval").val())}),$("#toggleNames, #toggleLabels, #toggleEdges").change(function(){!function(){var e="data(id)",t="data(weight)";$("#toggleNames").prop("checked")&&(e="data(value)");$("#toggleEdges").prop("checked")||(t="");$("#toggleLabels").prop("checked")||(e=t="");c.style(cytoscape.stylesheet().selector("node").css({content:e}).selector("edge").css({content:t}).selector("#start").css({"background-color":"#00C853"}).selector("#finish").css({"background-color":"#DD2C00"}))}()})}]);